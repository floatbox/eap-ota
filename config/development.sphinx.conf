indexer
{
}

searchd
{
  address = 127.0.0.1
  port = 3312
  log = /home/abragin/src/traviata/log/searchd.log
  query_log = /home/abragin/src/traviata/log/searchd.query.log
  pid_file = /home/abragin/src/traviata/log/searchd.development.pid
}

source geo_tag_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = traviata
  sql_query_pre = SET NAMES utf8
  sql_query = SELECT `geo_tags`.`id` * 4 + 0 AS `id` , CAST(`geo_tags`.`name` AS CHAR) AS `name`, CAST(`geo_tags`.`synonym_list` AS CHAR) AS `synonym_list`, `geo_tags`.`id` AS `sphinx_internal_id`, 1435348078 AS `class_crc`, '1435348078' AS `subclass_crcs`, 0 AS `sphinx_deleted`, `geo_tags`.`importance` AS `importance` FROM `geo_tags`    WHERE `geo_tags`.`id` >= $start AND `geo_tags`.`id` <= $end GROUP BY `geo_tags`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `geo_tags` 
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = importance
  sql_attr_multi = uint subclass_crcs from field
  sql_query_info = SELECT * FROM `geo_tags` WHERE `id` = (($id - 0) / 4)
}

index geo_tag_core
{
  source = geo_tag_core_0
  path = /home/abragin/src/traviata/db/sphinx/development/geo_tag_core
  morphology = stem_enru
  stopwords = config/stopwords-ru.txt
  charset_type = utf-8
  charset_table = 0..9, A..Z->a..z, _, a..z, U+451->U+435, U+401->U+435, U+410..U+42F->U+430..U+44F, U+430..U+44F
  min_prefix_len = 3
  enable_star = 1
}

index geo_tag
{
  type = distributed
  local = geo_tag_core
}

source country_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = traviata
  sql_query_pre = SET NAMES utf8
  sql_query = SELECT `countries`.`id` * 4 + 1 AS `id` , CAST(`countries`.`name_ru` AS CHAR) AS `name_ru`, CAST(`countries`.`name_en` AS CHAR) AS `name_en`, CAST(`countries`.`alpha2` AS CHAR) AS `alpha2`, CAST(`countries`.`synonym_list` AS CHAR) AS `synonym_list`, `countries`.`id` AS `sphinx_internal_id`, 2630807802 AS `class_crc`, '2630807802' AS `subclass_crcs`, 0 AS `sphinx_deleted`, `countries`.`importance` AS `importance` FROM `countries`    WHERE `countries`.`id` >= $start AND `countries`.`id` <= $end GROUP BY `countries`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `countries` 
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = importance
  sql_attr_multi = uint subclass_crcs from field
  sql_query_info = SELECT * FROM `countries` WHERE `id` = (($id - 1) / 4)
}

index country_core
{
  source = country_core_0
  path = /home/abragin/src/traviata/db/sphinx/development/country_core
  morphology = stem_enru
  stopwords = config/stopwords-ru.txt
  charset_type = utf-8
  charset_table = 0..9, A..Z->a..z, _, a..z, U+451->U+435, U+401->U+435, U+410..U+42F->U+430..U+44F, U+430..U+44F
  min_prefix_len = 3
  enable_star = 1
}

index country
{
  type = distributed
  local = country_core
}

source city_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = traviata
  sql_query_pre = SET NAMES utf8
  sql_query = SELECT `cities`.`id` * 4 + 2 AS `id` , CAST(`cities`.`name_ru` AS CHAR) AS `name_ru`, CAST(`cities`.`name_en` AS CHAR) AS `name_en`, CAST(`cities`.`iata` AS CHAR) AS `iata`, CAST(`cities`.`synonym_list` AS CHAR) AS `synonym_list`, `cities`.`id` AS `sphinx_internal_id`, 2372513034 AS `class_crc`, '2372513034' AS `subclass_crcs`, 0 AS `sphinx_deleted`, `cities`.`importance` AS `importance` FROM `cities`    WHERE `cities`.`id` >= $start AND `cities`.`id` <= $end GROUP BY `cities`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `cities` 
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = importance
  sql_attr_multi = uint subclass_crcs from field
  sql_query_info = SELECT * FROM `cities` WHERE `id` = (($id - 2) / 4)
}

index city_core
{
  source = city_core_0
  path = /home/abragin/src/traviata/db/sphinx/development/city_core
  morphology = stem_enru
  stopwords = config/stopwords-ru.txt
  charset_type = utf-8
  charset_table = 0..9, A..Z->a..z, _, a..z, U+451->U+435, U+401->U+435, U+410..U+42F->U+430..U+44F, U+430..U+44F
  min_prefix_len = 3
  enable_star = 1
}

index city
{
  type = distributed
  local = city_core
}

source airport_core_0
{
  type = mysql
  sql_host = localhost
  sql_user = root
  sql_pass = 
  sql_db = traviata
  sql_query_pre = SET NAMES utf8
  sql_query = SELECT `airports`.`id` * 4 + 3 AS `id` , CAST(`airports`.`name_ru` AS CHAR) AS `name_ru`, CAST(`airports`.`name_en` AS CHAR) AS `name_en`, CAST(`airports`.`iata` AS CHAR) AS `iata`, CAST(`airports`.`synonym_list` AS CHAR) AS `synonym_list`, `airports`.`id` AS `sphinx_internal_id`, 2972503646 AS `class_crc`, '2972503646' AS `subclass_crcs`, 0 AS `sphinx_deleted`, `airports`.`importance` AS `importance` FROM `airports`    WHERE `airports`.`id` >= $start AND `airports`.`id` <= $end GROUP BY `airports`.`id`  ORDER BY NULL
  sql_query_range = SELECT IFNULL(MIN(`id`), 1), IFNULL(MAX(`id`), 1) FROM `airports` 
  sql_attr_uint = sphinx_internal_id
  sql_attr_uint = class_crc
  sql_attr_uint = sphinx_deleted
  sql_attr_uint = importance
  sql_attr_multi = uint subclass_crcs from field
  sql_query_info = SELECT * FROM `airports` WHERE `id` = (($id - 3) / 4)
}

index airport_core
{
  source = airport_core_0
  path = /home/abragin/src/traviata/db/sphinx/development/airport_core
  morphology = stem_enru
  stopwords = config/stopwords-ru.txt
  charset_type = utf-8
  charset_table = 0..9, A..Z->a..z, _, a..z, U+451->U+435, U+401->U+435, U+410..U+42F->U+430..U+44F, U+430..U+44F
  min_prefix_len = 3
  enable_star = 1
}

index airport
{
  type = distributed
  local = airport_core
}
